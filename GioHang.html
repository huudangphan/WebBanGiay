<!DOCTYPE html>
<html>

<head>
    <title>Trung Tâm Giày Dép</title>

    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="resources/css/style.css">
    <script src="resources/js/script.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="resources/css/NikeAirMax97.css">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-2.1.3.js"></script>





</head>

<body>

    <!-- Phan Menu -->
    <!-- *************************************** -->


    <div id="head" class="clearfix">
        <div class="wrapper_container">
            <div id="logo">
                <a href="TrangChu.html">
                    <img src="resources/img/logo.png">
                </a>
            </div>
            <ul id="main_menu">
                <li><a href="TrangChu.html">Trang chủ</a></li>
                <li><a target="blank" href="https://www.facebook.com/profile.php?id=100008323599270">Liên hệ shop</a></li>
                <li>
                    <a href="Nike.html">Nike</a>
                    <ul class="sub_menu">
                        <li><a href="nikejordan.html">Air jordan</a>

                        </li>
                        <li><a href="nikeairmax.html">Air Max</a></li>
                        <li><a href="NikeAirForce.html">Air Force</a></li>
                    </ul>
                </li>
                <li>
                    <a href="Adidas.html">Adidas</a>
                    <ul class="sub_menu">
                        <li><a href="adidasalpha.html">Alphabounce beyond</a>

                        </li>
                        <li><a href="adidas_yeezy.html"> Yeezy</a></li>

                    </ul>
                </li>
                <li><a href="converse.html">Converse</a></li>
                <li><a href="balenciaga.html">Balenciaga</a></li>
                <li><a href="vans.html">Vans</a></li>

                <li class="nav navbar-nav navbar-right"><a href="dangKyThanhVien.html"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                <li class="nav navbar-nav navbar-right"><a href="dangnhap.html"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>



            </ul>

        </div>

        <div class="clearfix"></div>

    </div>



    <!-- ***************************************-->
    <!-- ***************************************-->
    <!-- ***************************************-->
    <br>
    <div id="ngang"></div>
    <h1 style="text-align: center; color: #009999">Giỏ Hàng</h1>
    <div id="ngang"></div>
    <a href="https://www.facebook.com/profile.php?id=100011651893331"><img src="resources/img/mess.jpg" id="mess"></a>
    <br><br><br><br><br>
    <div id="ngang"></div>
    <!-- <h1 class="spham">Sản Phẩm Chính</h1> -->
    <div id="ngang"></div>
    <div class="wrapper">
        <div class="col-sm-12">
            <table class="table table-bordered" id="table-products">
                <thead>
                    <tr >
                        <th style='text-align:center'>Hình Ảnh</th>
                        <th style='text-align:center'>Tên sản phẩm</th>
                        <th style='text-align:center'>Giá</th>
                        <th style='text-align:center'>Số lượng</th>
                        <th style='text-align:center'>Size</th>
                        <th style='text-align:center'>Total</th>
                    </tr>
                </thead>
                <tbody>
                    
                </tbody>
            </table>
            <table  width="100%" id="table-ToTal">
                <tr>
                    <td rowspan="2">
                        <div>
                            <button class="btn btn-lg btn-success" id="button-clear">Xóa</button>
                            <a href="DatHang.html"> <button class="btn btn-lg btn-success" id="button-buy" onclick="muahang()">Mua hàng</button></a>
                        </div>
                    </td>
                    <td></td>
                    <td width="15%" style="text-align: left; font-size: 300%"><b>Tổng Tiền:</b></td>
                    <td width="15.8%" id="ToTal" style="text-align: left;  font-size: 300%;"></td>
                </tr>
              
            </table>


        </div>


        <div class="row">





        </div>







</body>
<!-- Footer -->
<!-- Footer -->
<footer class="page-footer font-small stylish-color-dark pt-4" style="clear: left; ">

    <!-- Footer Links -->
    <div class="container text-center text-md-left">

        <!-- Grid row -->
        <div class="row">

            <!-- Grid column -->
            <div class="col-md-4 mx-auto">

                <!-- Content -->
                <h3 class="font-weight-bold text-uppercase mt-3 mb-4">T&D shop</h3>
                <p>Chất lượng T&D đảm bảo chất lượng cho tất cả sản phẩm bán tại Store MWC bằng chính sách bảo hành vĩnh viễn.
                    <br> Phục vụ T&D cam kết chất lượng phục vụ tốt nhất, chuyên nghiệp nhất cho mọi khách hàng bằng chính sách hoàn tiền và tặng quà nếu nhân viên phục vụ quí khách không chu đáo.
                    <br> Hỗ trợ Nếu bạn gặp rắc rối về sản phẩm hay chất lượng dịch vụ của T&D, hãy gọi ngay đến số 06969696969 </p>

            </div>
            <!-- Grid column -->

            <hr class="clearfix w-100 d-md-none">

            <!-- Grid column -->
            <div class="col-md-2 mx-auto">

                <!-- Links -->
                <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Chi nhánh của shop <br> khu vực miền nam</h5>

                <ul class="list-unstyled">
                    <li>
                        595 Nguyễn Đình Chiểu,Q3,TP.HCM

                    </li>
                    <li>
                        275 Phạm Ngũ Lão, Q1, TP.HCM
                    </li>
                </ul>

            </div>
            <!-- Grid column -->

            <hr class="clearfix w-100 d-md-none">

            <!-- Grid column -->
            <div class="col-md-2 mx-auto">

                <!-- Links -->
                <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Chi nhánh của shop <br> khu vực miền trung</h5>

                <ul class="list-unstyled">
                    <li>
                        <li>
                            110 Lương Định Của, Nha Trang, Khánh Hòa
                        </li>
                        <li>
                            347 Phan Xích Long, Phan Rang, Ninh Thuận
                        </li>

                    </li>
                </ul>

            </div>
            <!-- Grid column -->

            <hr class="clearfix w-100 d-md-none">

            <!-- Grid column -->

            <!-- Grid column -->

        </div>
        <!-- Grid row -->

    </div>
    <!-- Footer Links -->

    <hr>



    <hr>


    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">© 2020 Copyright:
        <a href="https://mdbootstrap.com/"> T&D.com</a>
    </div>
    <!-- Copyright -->

</footer>
<!-- Footer -->

</html>
<script>
    // Định nghĩa một mảng các phần tử sẽ bỏ vào giỏ hàng
    var shoppingCartItems = [];
    $(document).ready(function() {
        // Kiểm tra nếu đã có sessionStorage["shopping-cart-items"] hay chưa?
        if (sessionStorage["shopping-cart-items"] != null) {
            shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString());
        }

        // Hiển thị thông tin từ giỏ hàng
        displayShoppingCartItems();
    });
     $("#button-clear").click(function() {
        shoppingCartItems = [];
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems);
        $("#table-products > tbody").html("");

    });
    //Xóa từng đôi giày
     
    
  
    // Sự kiện click các button có class=".add-to-cart"
    $(".add-to-cart").click(function() {
        var button = $(this); // Lấy đối tượng button mà người dùng click
        var id =$("#nikeairforce").attr("src")// id của sản phẩm là id của button
        var name = button.attr("data-name"); // name của sản phẩm là thuộc tính data-name của button
        var price = button.attr("data-price"); // price của sản phẩm là thuộc tính data-price của button
        var quantity = document.getElementById("values").value;; // Số lượng


        var item = {
            id: id,
            name: name,
            price: price,          
            quantity: quantity
        };

        var exists = false;
        if (shoppingCartItems.length > 0) {
            $.each(shoppingCartItems, function(index, value) {
                // Nếu mặt hàng đã tồn tại trong giỏ hàng thì chỉ cần tăng số lượng mặt hàng đó trong giỏ hàng.
                if (value.id == item.id) {
                    var temp=parseInt(value.quantity)+parseInt(document.getElementById("values").value);
                    value.quantity=temp.toString();
                    exists = true;
                    return false;
                }
            });
        }

        // Nếu mặt hàng chưa tồn tại trong giỏ hàng thì bổ sung vào mảng
        if (!exists) {
            shoppingCartItems.push(item);
        }

        // Lưu thông tin vào sessionStorage
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems); // Chuyển thông tin mảng shoppingCartItems sang JSON trước khi lưu vào sessionStorage
        // Gọi hàm hiển thị giỏ hàng
        displayShoppingCartItems();
    });

    // Xóa hết giỏ hàng shoppingCartItems
    $("#button-clear").click(function() {
        shoppingCartItems = [];
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems);
        $("#table-products > tbody").html("");
        $("#table-ToTal > tbody").html("");
    });

    var Total="0";

  
       
    // Hiển thị giỏ hàng ra table
    function displayShoppingCartItems() {
        if (sessionStorage["shopping-cart-items"] != null) {
            shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString()); // Chuyển thông tin từ JSON trong sessionStorage sang mảng shoppingCartItems.

            $("#table-products > tbody").html("");

            // Duyệt qua mảng shoppingCartItems để append từng item dòng vào table
            $.each(shoppingCartItems, function(index, item) {
                var htmlString = "";
                
        
                htmlString += "<tr>";         
                htmlString += "<td width=20%;> <img src='"+item.id+"' width=300px height=200px></td>";
                htmlString += "<td style='text-align:center'width=20%;> " + item.name + "</td>";
                htmlString += "<td style='text-align:center' width=20%;>" + item.price + " VNĐ</td>";
                htmlString += "<td style='text-align:center' width=20%;>" + item.quantity+ "</td>";
                htmlString += "<td width=5%;  style='text-align:center'>"  
                +"<select name="+"size"+" id="+"size"+">"+                
                        "<option value="+"36"+">36</option>"+
                        "<option value="+"37"+">37</option>"+
                        "<option value="+"38"+">38</option>"+
                        "<option value="+"40"+">40</option>"+
                "</select> </td>";
                htmlString += "<td style='text-align: center' width=20%;>" + (parseInt(item.price)*parseInt(item.quantity)).toString() + " VNĐ</td>";
                htmlString += "</tr>";
                var temp=(parseInt(item.price)*parseInt(item.quantity)).toString();
                Total=(parseInt(Total)+parseInt(temp)).toString()+"VNĐ";
                $("#table-products > tbody:last").append(htmlString);
                
            });
              $("#ToTal").append(Total);
        }
      
    }
</script>